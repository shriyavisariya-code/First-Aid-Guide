<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - Emergency Assist</title>
    <link rel="stylesheet" href="samplecss.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <style>
        /* Modern Color Palette - Consistent with Main Page */
        :root {
            --primary: #2563eb;      /* Modern blue */
            --primary-dark: #1d4ed8;
            --primary-light: #3b82f6;
            --secondary: #dc2626;    /* Emergency red */
            --accent: #10b981;       /* Success green */
            --warning: #f59e0b;      /* Warning amber */
            --info: #8b5cf6;         /* Purple for additional accent */
            --teal: #14b8a6;         /* Teal for variety */
            --emergency-btn: #dc2626; /* Consistent emergency button color */
            --emergency-btn-hover: #b91c1c;
            --background: #f8fafc;   /* Light background */
            --surface: #ffffff;      /* Card background */
            --text-primary: #1e293b; /* Dark text */
            --text-secondary: #64748b;
            --text-light: #94a3b8;
            --border: #e2e8f0;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-emergency: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            --gradient-success: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            --gradient-warning: linear-gradient(135deg, #f7971e 0%, #ffd200 100%);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Menu Toggle - Updated to match previous design */
        .menu-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--gradient-primary);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s ease;
            border: 2px solid white;
        }

        .menu-toggle:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .menu-toggle.active {
            background: var(--gradient-emergency);
            transform: rotate(90deg);
        }

        .menu-toggle.active:hover {
            transform: scale(1.1) rotate(180deg);
        }

        /* Collapsible Sections - Updated to match previous design */
        .collapsible-sections {
            position: fixed;
            top: 0;
            right: -400px;
            width: 380px;
            height: 100vh;
            background: linear-gradient(180deg, var(--surface) 0%, #f8fafc 100%);
            box-shadow: var(--shadow-lg);
            padding: 80px 20px 20px;
            overflow-y: auto;
            transition: right 0.3s ease;
            z-index: 999;
            border-left: 4px solid var(--primary);
        }

        .collapsible-sections.active {
            right: 0;
        }

        /* Language Selector */
        .language-selector {
            background: var(--surface);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            border: 2px solid var(--primary-light);
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        }

        .language-selector label {
            display: block;
            margin-bottom: 10px;
            font-weight: 700;
            color: var(--primary);
            font-size: 1.1rem;
        }

        /* Timer Section */
        .timer-section {
            background: linear-gradient(135deg, #ffffff 0%, #f0f9ff 100%);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            border: 2px solid var(--accent);
            position: relative;
            overflow: hidden;
        }

        .timer-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-success);
        }

        .timer-section h2 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timer-section h2::before {
            content: '‚è±Ô∏è';
            font-size: 1.2em;
        }

        .timer-display {
            font-size: 2.5rem;
            font-weight: bold;
            text-align: center;
            background: var(--gradient-warning);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            background-color: var(--background);
            padding: 20px;
            border-radius: 12px;
            border: 3px dashed var(--warning);
        }

        .timer-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .timer-controls button {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            font-size: 1rem;
        }

        #start-timer {
            background: var(--gradient-success);
            color: white;
        }

        #pause-timer {
            background: var(--gradient-warning);
            color: white;
        }

        #reset-timer {
            background: linear-gradient(135deg, #64748b 0%, #475569 100%);
            color: white;
        }

        .timer-controls button:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        /* Map Section */
        .map-section {
            background: linear-gradient(135deg, #ffffff 0%, #f0f9ff 100%);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            border: 2px solid var(--info);
            position: relative;
        }

        .map-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--info);
        }

        .map-section h2 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .map-section h2::before {
            content: 'üìç';
            font-size: 1.2em;
        }

        .map-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .map-controls button {
            padding: 12px 20px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            box-shadow: var(--shadow);
        }

        .map-controls button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        #map {
            height: 200px;
            border-radius: 12px;
            margin-bottom: 15px;
            border: 2px solid var(--primary-light);
            box-shadow: var(--shadow);
        }

        .hospital-list {
            max-height: 200px;
            overflow-y: auto;
            background: var(--background);
            border-radius: 8px;
            padding: 10px;
            border: 1px solid var(--border);
        }

        .loading {
            text-align: center;
            color: var(--text-secondary);
            padding: 20px;
            font-style: italic;
        }

        .hospital-item {
            background: var(--surface);
            padding: 15px;
            margin: 10px 0;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .hospital-item:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow-lg);
            border-left-color: var(--accent);
        }

        .hospital-name {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .hospital-address {
            color: var(--text-secondary);
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .hospital-distance {
            color: var(--accent);
            font-weight: 600;
            font-size: 1rem;
        }

        /* Privacy Container Styles */
        .privacy-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 30px;
            padding: 15px 25px;
            background: var(--gradient-primary);
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            border: 2px solid white;
        }
        
        .back-button:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
            background: var(--primary-dark);
        }
        
        .privacy-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .privacy-header h1 {
            background: var(--gradient-primary);
            color: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            border: 3px solid white;
            font-weight: 800;
            margin-bottom: 20px;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .privacy-header p {
            background: linear-gradient(135deg, var(--surface) 0%, #f8fafc 100%);
            color: var(--text-primary);
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            font-weight: 600;
            border: 2px solid var(--primary-light);
            font-size: 1.2rem;
        }
        
        .privacy-content {
            background: linear-gradient(135deg, var(--surface) 0%, #f8fafc 100%);
            padding: 40px;
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            line-height: 1.8;
            border: 2px solid var(--primary-light);
        }
        
        .privacy-section {
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 2px solid var(--border);
        }
        
        .privacy-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .privacy-section h2 {
            color: white;
            margin-bottom: 20px;
            font-size: 1.8rem;
            border-left: 5px solid var(--accent);
            padding-left: 15px;
            font-weight: 700;
        }
        
        .privacy-section h3 {
            color: var(--info);
            margin: 25px 0 15px 0;
            font-size: 1.3rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .privacy-section h3::before {
            content: 'üîπ';
            font-size: 0.8em;
        }
        
        .privacy-section p {
            margin-bottom: 15px;
            font-size: 1.1rem;
            color: var(--text-primary);
        }
        
        .privacy-section ul {
            margin: 20px 0;
            padding-left: 25px;
        }
        
        .privacy-section li {
            margin-bottom: 12px;
            line-height: 1.6;
            font-size: 1.1rem;
            position: relative;
            padding-left: 10px;
        }
        
        .privacy-section li::before {
            content: '‚Ä¢';
            color: var(--accent);
            font-weight: bold;
            position: absolute;
            left: -15px;
        }
        
        .privacy-section strong {
            color: var(--primary);
            font-weight: 700;
        }
        
        .last-updated {
            text-align: center;
            color: var(--text-secondary);
            font-style: italic;
            margin-top: 40px;
            padding-top: 25px;
            border-top: 2px solid var(--border);
            font-size: 1rem;
        }

        /* Visitor Counter */
        #visitor-counter {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--gradient-primary);
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            font-weight: 700;
            z-index: 1000;
            transition: all 0.3s ease;
            border: 2px solid white;
        }

        #visitor-counter:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
        }

        #visitor-count {
            font-weight: 800;
            font-size: 1.2rem;
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
            padding: 50px 20px 20px;
            margin-top: 50px;
            position: relative;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer h3 {
            color: var(--primary-light);
            margin-bottom: 20px;
            font-size: 1.2rem;
            font-weight: 700;
        }

        .footer-contact a {
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .footer-contact a:hover {
            color: var(--accent);
            transform: translateX(5px);
        }

        .faq-links {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .faq-link {
            color: var(--text-light);
            text-decoration: none;
            transition: all 0.3s ease;
            padding: 5px 0;
        }

        .faq-link:hover {
            color: white;
            transform: translateX(8px);
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.1), transparent);
            padding-left: 10px;
        }

        .social-icons {
            display: flex;
            gap: 20px;
        }

        .social-icon {
            color: white;
            font-size: 1.8rem;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 12px;
        }

        .social-icon:hover {
            color: var(--primary-light);
            transform: translateY(-5px) scale(1.1);
            background: rgba(255, 255, 255, 0.2);
        }

        .footer-bottom {
            text-align: center;
            margin-top: 40px;
            padding-top: 25px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text-light);
            font-size: 0.95rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .privacy-container {
                padding: 15px;
            }
            
            .privacy-content {
                padding: 25px;
            }
            
            .privacy-header h1 {
                font-size: 2rem;
                padding: 25px;
            }
            
            .privacy-header p {
                font-size: 1.1rem;
                padding: 15px;
            }
            
            .collapsible-sections {
                width: 100%;
                right: -100%;
            }
            
            .footer-container {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .social-icons {
                justify-content: center;
            }
            
            .menu-toggle {
                top: 15px;
                right: 15px;
                width: 45px;
                height: 45px;
            }
        }

        @media (max-width: 480px) {
            .privacy-header h1 {
                font-size: 1.8rem;
                padding: 20px;
            }
            
            .privacy-header p {
                font-size: 1rem;
                padding: 15px;
            }
            
            .privacy-content {
                padding: 20px;
            }
            
            .privacy-section h2 {
                font-size: 1.5rem;
            }
            
            .privacy-section h3 {
                font-size: 1.1rem;
            }
            
            .menu-toggle {
                top: 10px;
                right: 10px;
                width: 40px;
                height: 40px;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: linear-gradient(180deg, #e2e8f0 0%, #cbd5e1 100%);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-primary);
            border-radius: 5px;
            border: 2px solid #e2e8f0;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }
    </style>
</head>
<body>
    <!-- Menu Toggle Button -->
    <div class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
    </div>

    <!-- Collapsible Sections - Hidden by default -->
    <div class="collapsible-sections" id="collapsibleSections">
        <!-- Google Translate API -->
        <div class="language-selector">
            <label>Select Language:</label>
            <div id="google_translate_element"></div>
        </div>

        <!-- Timer Section -->
        <div class="timer-section">
            <h2>First Aid Timer</h2>
            <p>Use this timer for CPR compressions or other timed procedures</p>
            <div class="timer-display" id="timer-display">00:00:00</div>
            <div class="timer-controls">
                <button id="start-timer">Start</button>
                <button id="pause-timer">Pause</button>
                <button id="reset-timer">Reset</button>
            </div>
        </div>
        
        <!-- Map Section -->
        <div class="map-section">
            <h2>Find Nearby Hospitals</h2>
            <div class="map-controls">
                <button id="locate-me">Locate Me</button>
                <button id="find-hospitals">Find Hospitals</button>
            </div>
            <div id="map"></div>
            <div class="hospital-list" id="hospital-list">
                <div class="loading">Click "Locate Me" to find hospitals near you</div>
            </div>
        </div>
    </div>

    <!-- Main Privacy Policy Content -->
    <div class="privacy-container">
        <a href="index.html" class="back-button">
            <i class="fas fa-arrow-left"></i> Back to Main Page
        </a>
        
        <div class="privacy-header">
            <h1>Privacy Policy</h1>
            <p>How we protect and handle your information</p>
        </div>
        
        <div class="privacy-content">
            <!-- Privacy policy content remains the same -->
            <div class="privacy-section">
                <h2>Introduction</h2>
                <p>Welcome to Emergency Assist. We are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, and safeguard your information when you use our first aid guidance website.</p>
            </div>
            
            <div class="privacy-section">
                <h2>Information We Collect</h2>
                
                <h3>Personal Information</h3>
                <p>We do not require you to create an account or provide personal information to use our basic first aid guidance services. However, we may collect:</p>
                <ul>
                    <li><strong>Location Data:</strong> Only when you explicitly use the "Locate Me" feature to find nearby hospitals</li>
                    <li><strong>Usage Data:</strong> Anonymous information about how you interact with our website</li>
                    <li><strong>Technical Information:</strong> Browser type, device type, and IP address for analytics</li>
                </ul>
                
                <h3>Non-Personal Information</h3>
                <ul>
                    <li>Visitor count and general usage statistics</li>
                    <li>Preferred language settings</li>
                    <li>Pages visited and time spent on the site</li>
                </ul>
            </div>
            
            <!-- Rest of privacy policy content remains the same -->
            <div class="privacy-section">
                <h2>How We Use Your Information</h2>
                <ul>
                    <li>To provide first aid information and emergency guidance</li>
                    <li>To locate nearby hospitals when requested</li>
                    <li>To improve our website and services</li>
                    <li>To understand how visitors use our site</li>
                    <li>To ensure the security and proper functioning of our website</li>
                </ul>
            </div>
            
            <div class="privacy-section">
                <h2>Location Services</h2>
                <p>Our hospital locator feature uses your device's location only when you explicitly click the "Locate Me" button. We do not:</p>
                <ul>
                    <li>Store your location data on our servers</li>
                    <li>Track your location continuously</li>
                    <li>Share your location with third parties</li>
                    <li>Use location data for any purpose other than finding nearby hospitals</li>
                </ul>
                <p>Location data is processed locally in your browser and is immediately discarded after use.</p>
            </div>
            
            <div class="privacy-section">
                <h2>Third-Party Services</h2>
                <h3>Google Translate</h3>
                <p>We use Google Translate to provide multilingual support. Google may collect information as described in their Privacy Policy.</p>
                
                <h3>OpenStreetMap</h3>
                <p>Our map feature uses OpenStreetMap tiles. Your interactions with the map are subject to OpenStreetMap's terms.</p>
                
                <h3>Leaflet.js</h3>
                <p>We use Leaflet.js, an open-source JavaScript library, for map functionality.</p>
            </div>
            
            <div class="privacy-section">
                <h2>Data Storage and Security</h2>
                <ul>
                    <li>We use local storage in your browser to maintain visitor count</li>
                    <li>No personal data is stored on our servers</li>
                    <li>All first aid content is static and doesn't require user data</li>
                    <li>We implement appropriate security measures to protect your information</li>
                </ul>
            </div>
            
            <div class="privacy-section">
                <h2>Your Rights</h2>
                <p>You have the right to:</p>
                <ul>
                    <li>Access any personal information we might hold</li>
                    <li>Request deletion of your data</li>
                    <li>Opt-out of location services</li>
                    <li>Use our website without providing any personal information</li>
                </ul>
            </div>
            
            <div class="privacy-section">
                <h2>Cookies and Tracking</h2>
                <p>We use minimal cookies and local storage for:</p>
                <ul>
                    <li>Visitor counter functionality</li>
                    <li>Language preference settings</li>
                    <li>Website performance optimization</li>
                </ul>
                <p>You can disable cookies in your browser settings, though this may affect some website features.</p>
            </div>
            
            <div class="privacy-section">
                <h2>Children's Privacy</h2>
                <p>Our website is designed to be safe for all ages. We do not knowingly collect personal information from children under 13. If you believe a child has provided us with personal information, please contact us immediately.</p>
            </div>
            
            <div class="privacy-section">
                <h2>Changes to This Policy</h2>
                <p>We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.</p>
            </div>
            
            <div class="privacy-section">
                <h2>Contact Us</h2>
                <p>If you have any questions about this Privacy Policy, please contact us:</p>
                <ul>
                    <li>Email: privacy@emergencyassist.com</li>
                    <li>Phone: +91 99999 99999</li>
                    <li>Address: [Your Company Address]</li>
                </ul>
            </div>
            
            <div class="last-updated">
                <p><strong>Last Updated:</strong> December 2024</p>
            </div>
        </div>
    </div>

    <!-- Visitor Counter -->
    <div id="visitor-counter">
        <span id="visitor-count">0</span> visitors
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-contact">
                <h3>Contact</h3>
                <p><a href="tel:+919999999999">üìû +91 99999 99999</a></p>
            </div>
            <div class="footer-faq">
                <h3>FAQ</h3>
                <div class="faq-links">
                    <a href="faq.html" class="faq-link">First Aid Questions</a>
                    <a href="faq.html" class="faq-link">Emergency Procedures</a>
                    <a href="faq.html" class="faq-link">CPR Guidelines</a>
                    <a href="faq.html" class="faq-link">Treatment Methods</a>
                </div>
            </div>
            <div class="footer-links">
                <h3>Legal</h3>
                <div class="legal-links">
                    <a href="privacy-policy.html" class="faq-link">Privacy Policy</a>
                    <a href="terms.html" class="faq-link">Terms of Service</a>
                </div>
            </div>
            <div class="footer-socials">
                <h3>Follow</h3>
                <div class="social-icons">
                    <a href="https://instagram.com/your_profile" target="_blank" aria-label="Instagram" class="social-icon">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://linkedin.com/in/your_profile" target="_blank" aria-label="LinkedIn" class="social-icon">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </div>
            </div>
        </div>
        <p class="footer-bottom">¬© 2025 Emergency Assist. All Rights Reserved.</p>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script>
        // JavaScript code remains exactly the same as in your original file
        // ===== MENU TOGGLE FUNCTIONALITY =====
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.getElementById('menuToggle');
            const collapsibleSections = document.getElementById('collapsibleSections');
            
            if (!menuToggle || !collapsibleSections) {
                console.log('Menu elements not found on this page');
                return;
            }
            
            const menuIcon = menuToggle.querySelector('i');
            
            // Ensure sections are hidden on page load
            collapsibleSections.style.display = 'none';
            
            menuToggle.addEventListener('click', function(event) {
                event.stopPropagation();
                const isActive = collapsibleSections.classList.contains('active');
                
                if (isActive) {
                    // Hide sections
                    collapsibleSections.classList.remove('active');
                    menuToggle.classList.remove('active');
                    menuIcon.classList.remove('fa-times');
                    menuIcon.classList.add('fa-bars');
                    
                    setTimeout(() => {
                        collapsibleSections.style.display = 'none';
                    }, 300);
                } else {
                    // Show sections
                    collapsibleSections.style.display = 'block';
                    setTimeout(() => {
                        collapsibleSections.classList.add('active');
                        menuToggle.classList.add('active');
                        menuIcon.classList.remove('fa-bars');
                        menuIcon.classList.add('fa-times');
                        refreshMap(); // Refresh map when menu is opened
                    }, 10);
                }
            });
            
            // Close menu when clicking outside
            document.addEventListener('click', function(event) {
                if (!menuToggle.contains(event.target) && 
                    !collapsibleSections.contains(event.target) &&
                    collapsibleSections.classList.contains('active')) {
                    
                    collapsibleSections.classList.remove('active');
                    menuToggle.classList.remove('active');
                    menuIcon.classList.remove('fa-times');
                    menuIcon.classList.add('fa-bars');
                    
                    setTimeout(() => {
                        collapsibleSections.style.display = 'none';
                    }, 300);
                }
            });
            
            // Initialize other functionalities
            initializeMap();
            initializeTimer();
            initializeVisitorCounter();
        });

        // ===== MAP FUNCTIONALITY =====
        let map;
        let userLocation = null;
        let userMarker = null;
        let hospitalMarkers = [];
        let mapInitialized = false;

        function initializeMap() {
            // Wait for DOM to be ready
            if (document.getElementById('map')) {
                console.log('Map element found, initializing...');
                
                // Initialize the map with minimal settings
                map = L.map('map', {
                    center: [20.5937, 78.9629],
                    zoom: 5,
                    zoomControl: false
                });
                
                // Add OpenStreetMap tiles
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                    maxZoom: 18,
                    minZoom: 3
                }).addTo(map);
                
                // Add zoom control after a delay
                setTimeout(() => {
                    L.control.zoom({ position: 'topright' }).addTo(map);
                }, 1000);
                
                mapInitialized = true;
                console.log('Map initialized successfully');
                
                // Add event listeners for map buttons
                const locateMeBtn = document.getElementById('locate-me');
                const findHospitalsBtn = document.getElementById('find-hospitals');
                
                if (locateMeBtn) locateMeBtn.addEventListener('click', locateUser);
                if (findHospitalsBtn) findHospitalsBtn.addEventListener('click', findHospitals);
            } else {
                console.log('Map element not found on this page');
            }
        }

        function refreshMap() {
            if (map && mapInitialized) {
                setTimeout(() => {
                    try {
                        map.invalidateSize(true);
                        console.log('Map refreshed after menu open');
                    } catch (error) {
                        console.error('Error refreshing map:', error);
                    }
                }, 300);
            }
        }

        function locateUser() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        userLocation = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        
                        // Update map view
                        map.setView([userLocation.lat, userLocation.lng], 13);
                        
                        // Add or update user marker
                        if (userMarker) {
                            map.removeLayer(userMarker);
                        }
                        
                        userMarker = L.marker([userLocation.lat, userLocation.lng])
                            .addTo(map)
                            .bindPopup('Your Location')
                            .openPopup();
                            
                        document.getElementById('hospital-list').innerHTML = '<div class="loading">Location found! Click "Find Hospitals" to search</div>';
                    },
                    function(error) {
                        alert('Unable to get your location. Please ensure location services are enabled.');
                        console.error('Geolocation error:', error);
                    }
                );
            } else {
                alert('Geolocation is not supported by this browser.');
            }
        }

        function findHospitals() {
            if (!userLocation) {
                alert('Please click "Locate Me" first to find your location.');
                return;
            }
            
            document.getElementById('hospital-list').innerHTML = '<div class="loading">Searching for hospitals...</div>';
            
            // Clear existing hospital markers
            hospitalMarkers.forEach(marker => map.removeLayer(marker));
            hospitalMarkers = [];
            
            // Use Overpass API to find hospitals
            const overpassUrl = `https://overpass-api.de/api/interpreter?data=[out:json];node[amenity=hospital](around:5000,${userLocation.lat},${userLocation.lng});out;`;
            
            fetch(overpassUrl)
                .then(response => response.json())
                .then(data => {
                    const hospitals = data.elements;
                    const hospitalList = document.getElementById('hospital-list');
                    
                    if (hospitals.length === 0) {
                        hospitalList.innerHTML = '<div class="loading">No hospitals found nearby. Try expanding your search area.</div>';
                        return;
                    }
                    
                    // Sort hospitals by distance
                    hospitals.sort((a, b) => {
                        const distA = calculateDistance(userLocation.lat, userLocation.lng, a.lat, a.lon);
                        const distB = calculateDistance(userLocation.lat, userLocation.lng, b.lat, b.lon);
                        return distA - distB;
                    });
                    
                    // Display hospitals in list
                    let hospitalHTML = '';
                    hospitals.slice(0, 10).forEach(hospital => {
                        const distance = calculateDistance(userLocation.lat, userLocation.lng, hospital.lat, hospital.lon);
                        
                        hospitalHTML += `
                            <div class="hospital-item" data-lat="${hospital.lat}" data-lng="${hospital.lon}">
                                <div class="hospital-name">${hospital.tags.name || 'Unknown Hospital'}</div>
                                <div class="hospital-address">${hospital.tags['addr:street'] || 'Address not available'}</div>
                                <div class="hospital-distance">${distance.toFixed(1)} km away</div>
                            </div>
                        `;
                        
                        // Add marker for hospital
                        const hospitalMarker = L.marker([hospital.lat, hospital.lon])
                            .addTo(map)
                            .bindPopup(`
                                <strong>${hospital.tags.name || 'Unknown Hospital'}</strong><br>
                                ${hospital.tags['addr:street'] || ''}<br>
                                ${distance.toFixed(1)} km away
                            `);
                        
                        hospitalMarkers.push(hospitalMarker);
                    });
                    
                    hospitalList.innerHTML = hospitalHTML;
                    
                    // Add click event to hospital list items
                    document.querySelectorAll('.hospital-item').forEach(item => {
                        item.addEventListener('click', function() {
                            const lat = parseFloat(this.getAttribute('data-lat'));
                            const lng = parseFloat(this.getAttribute('data-lng'));
                            map.setView([lat, lng], 15);
                            
                            // Highlight the clicked hospital
                            hospitalMarkers.forEach(marker => {
                                if (marker.getLatLng().lat === lat && marker.getLatLng().lng === lng) {
                                    marker.openPopup();
                                }
                            });
                        });
                    });
                })
                .catch(error => {
                    console.error('Error fetching hospitals:', error);
                    document.getElementById('hospital-list').innerHTML = '<div class="loading">Error loading hospitals. Please try again.</div>';
                });
        }

        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371;
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = 
                Math.sin(dLat/2) * Math.sin(dLat/2) +
                Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
                Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }

        // ===== TIMER FUNCTIONALITY =====
        let timerInterval;
        let timerRunning = false;
        let seconds = 0, minutes = 0, hours = 0;

        function initializeTimer() {
            const startButton = document.getElementById('start-timer');
            const pauseButton = document.getElementById('pause-timer');
            const resetButton = document.getElementById('reset-timer');
            
            if (startButton && pauseButton && resetButton) {
                startButton.addEventListener('click', startTimer);
                pauseButton.addEventListener('click', pauseTimer);
                resetButton.addEventListener('click', resetTimer);
                updateTimerDisplay();
            } else {
                console.log('Timer elements not found on this page');
            }
        }

        function updateTimerDisplay() {
            const timerDisplay = document.getElementById('timer-display');
            if (timerDisplay) {
                const formattedHours = hours.toString().padStart(2, '0');
                const formattedMinutes = minutes.toString().padStart(2, '0');
                const formattedSeconds = seconds.toString().padStart(2, '0');
                timerDisplay.textContent = `${formattedHours}:${formattedMinutes}:${formattedSeconds}`;
            }
        }

        function startTimer() {
            if (!timerRunning) {
                timerRunning = true;
                timerInterval = setInterval(() => {
                    seconds++;
                    if (seconds >= 60) {
                        seconds = 0;
                        minutes++;
                        if (minutes >= 60) {
                            minutes = 0;
                            hours++;
                        }
                    }
                    updateTimerDisplay();
                }, 1000);
            }
        }

        function pauseTimer() {
            if (timerRunning) {
                clearInterval(timerInterval);
                timerRunning = false;
            }
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerRunning = false;
            seconds = 0;
            minutes = 0;
            hours = 0;
            updateTimerDisplay();
        }

        // ===== VISITOR COUNTER =====
        function initializeVisitorCounter() {
            const visitorCount = document.getElementById('visitor-count');
            if (visitorCount) {
                let count = localStorage.getItem('visitorCount') || 0;
                count = parseInt(count) + 1;
                localStorage.setItem('visitorCount', count);
                visitorCount.textContent = count;
            }
        }

        // ===== GOOGLE TRANSLATE =====
        function googleTranslateElementInit() {
            if (typeof google !== 'undefined' && google.translate) {
                new google.translate.TranslateElement({
                    pageLanguage: 'en',
                    includedLanguages: 'en,hi,kn,te,ta,gu,mr',
                    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
                }, 'google_translate_element');
            }
        }
    </script>
</body>
</html>